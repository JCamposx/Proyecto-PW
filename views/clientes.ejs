<!DOCTYPE html>
<html>
    <head>
        <title>Admin</title>
        <meta charset="utf-8" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        <style>
            * {
                box-sizing: border-box;
            }
            #myInput {
                background-image: url('/css/searchicon.png');
                background-position: 10px 10px;
                background-repeat: no-repeat;
                width: 100%;
                font-size: 16px;
                padding: 12px 20px 12px 40px;
                border: 1px solid #ddd;
                margin-bottom: 12px;
            }
            #myTable {
                border-collapse: collapse;
                width: 100%;
                border: 1px solid #ddd;
                font-size: 18px;
            }
            #myTable th, #myTable td {
                text-align: left;
                padding: 12px;
            }
            #myTable tr {
                border-bottom: 1px solid #ddd;
            }
            #myTable tr.header, #myTable tr:hover {
                background-color: #f1f1f1;
            }
            </style>
    </head>
    <body class="container">
        <%- include('menu') %>

        <h2>Lista de Clientes</h2>
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">

        <a href="/clientes/listar/<%= cliente.id %>" >Listar</a>

        <table id="myTable" class="display nowrap" style="width:100%">
            <thead>
                <tr class="header">
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>DNI</th>
                    <th>Foto</th>
                    <th>Correo</th>
                    <th>Telefono</th>
                    <th>Direccion</th>               
                    <th>Distrito</th>
                    <th>Provincia</th>
                    <th>Departamento</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>

            </thead>
            <tbody>
                <% cliente.forEach( (cliente) => { %>
                    <tr>
                        <td><%= cliente.id %></td>
                        <td><%= cliente.nombre %></td>
                        <td><%= cliente.apellido %></td>
                        <td><%= cliente.dni %></td>
                        <td><%= cliente.foto %></td>
                        <td><%= cliente.correo %></td>
                        <td><%= cliente.telefono %></td>
                        <td><%= cliente.direccion %></td>
                        <td><%= cliente.distrito %></td>
                        <td><%= cliente.provincia %></td>
                        <td><%= cliente.departamento %></td>
                        <td><%= cliente.estado %></td>

                    </tr>
                    <tr>  
                        <td>
                            <a href="/clientes/modificar/<%= cliente.id %>" >Editar</a>
                        </td>
                    </tr>
                <% }) %>


            </tbody>
        </table>
        <script>
            function myFunction() {
              var input, filter, table, tr, td, i, txtValue;
              input = document.getElementById("myInput");
              filter = input.value.toUpperCase();
              table = document.getElementById("myTable");
              tr = table.getElementsByTagName("tr");
              for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                  txtValue = td.textContent || td.innerText;
                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                  } else {
                    tr[i].style.display = "none";
                  }
                }       
              }
            }
            </script>
        <%- include('footer') %>
    </body>
</html>